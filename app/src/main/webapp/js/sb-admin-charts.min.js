Chart.defaults.global.defaultFontFamily = '-apple-system,system-ui,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif', Chart.defaults.global.defaultFontColor = "#292b2c";

$(function() {
	
	$.ajax({
		url : 'barchart.do?fromdate=20180101&todate=20180601',
		dataType : 'json',

		success : function(data) {
			$.ajax({
				url : 'piechart.do?fromdate=20180101&todate=20180601',
				dataType : 'json',

				success : function(data2) {
					disp(data,data2);
					
				},
				error : function(error,status){
					alert(error.name);
				}
			});
		},
		error : function(error,status){
			alert(error.name);
		}
	});

function disp(data, data2) {
var ctx = document.getElementById("myAreaChart"),
	myLineChart = new Chart(ctx, {
		type : "line",
		data : {
			labels : [ "Mar 1", "Mar 2", "Mar 3", "Mar 4", "Mar 5", "Mar 6", "Mar 7", "Mar 8", "Mar 9", "Mar 10", "Mar 11", "Mar 12", "Mar 13" ],
			datasets : data
		},
		options : {
			scales : {
				xAxes : [ {
					time : {
						unit : "date"
					},
					gridLines : {
						display : !1
					},
					ticks : {
						maxTicksLimit : 7
					}
				} ],
				yAxes : [ {
					ticks : {
						min : 0,
						max : 5,
						maxTicksLimit : 5
					},
					gridLines : {
						color : "rgba(0, 0, 0, .125)"
					}
				} ]
			},
			legend : {
				display : !1
			}
		}
	}),
	ctx = document.getElementById("myBarChart"),
	myLineChart = new Chart(ctx, {
		type : "bar",
		data : data,
		options : {
			scales : {
				xAxes : [ {
					time : {
						unit : "month"
					},
					gridLines : {
						display : !1
					},
					ticks : {
						maxTicksLimit : 6
					}
				} ],
				yAxes : [ {
					ticks : {
						min : 0,
						max : 1000000,
						maxTicksLimit : 5
					},
					gridLines : {
						display : !0
					}
				} ]
			},
			legend : {
				display : !1
			}
		}
	}),
	ctx = document.getElementById("myPieChart"),
	myPieChart = new Chart(ctx, {
		type : "pie",
		data : {
			labels : [ "Blue", "Red", "Yellow", "Green" ],
			datasets : [ {
				data : [ 12.21, 15.58 ],
				backgroundColor : [ "#007bff", "#dc3545", "#ffc107", "#28a745" ]
			} ]
		}
		data : data2 
		
	});
}
	
});

